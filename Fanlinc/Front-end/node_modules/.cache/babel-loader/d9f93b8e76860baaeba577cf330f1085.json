{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\munee\\\\Desktop\\\\project-stact\\\\Fanlinc\\\\Front-end\\\\src\\\\Components\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport './Login.css';\nimport dotenv from 'dotenv';\ndotenv.config();\nconst API_HOST_URL = process.env.REACT_APP_STACT_WEBSITE;\nconst errorStyle = {\n  color: \"red\"\n};\n\nclass login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      error: ''\n    };\n\n    if (localStorage.getItem('loggedin') === 'true') {\n      this.props.history.push(\"/Home\");\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    axios.post(\"\".concat(API_HOST_URL, \"/validateAccount\"), {\n      \"email\": this.state.email,\n      \"password\": this.state.password\n    }).then(response => {\n      console.log(response.data);\n\n      if (response.data.msg === 'success') {\n        localStorage.setItem('loggedin', 'true');\n        localStorage.setItem('email', this.state.email);\n        localStorage.setItem('id', response.data.id);\n        this.props.history.push(\"/Profile?user=\" + localStorage.getItem('id'));\n      } else {\n        this.setState({\n          error: response.data.msg\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    const errorMessage = this.state.error;\n    return React.createElement(\"div\", {\n      id: \"bar\",\n      className: \"bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"div\", {\n      className: \"location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"email\",\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), \"          \"), React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"userpass\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"password\",\n      type: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      className: \"btn\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" Login\"), React.createElement(NavLink, {\n      to: \"/SignUp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Don't have an account?\"), React.createElement(\"div\", {\n      id: \"Error\",\n      className: \"Message\",\n      style: errorStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, errorMessage)));\n  }\n\n}\n\nexport default login;","map":{"version":3,"sources":["C:/Users/munee/Desktop/project-stact/Fanlinc/Front-end/src/Components/Login.js"],"names":["React","Component","axios","NavLink","dotenv","config","API_HOST_URL","process","env","REACT_APP_STACT_WEBSITE","errorStyle","color","login","constructor","props","state","email","password","error","localStorage","getItem","history","push","handleChange","bind","handleSubmit","event","setState","target","id","value","post","then","response","console","log","data","msg","setItem","catch","preventDefault","render","errorMessage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from 'axios';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './Login.css'\r\nimport dotenv from 'dotenv'\r\ndotenv.config();\r\nconst API_HOST_URL = process.env.REACT_APP_STACT_WEBSITE\r\n\r\nconst errorStyle = {\r\n  color: \"red\"\r\n}\r\n\r\nclass login extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      error: ''\r\n    };\r\n\r\n\r\n\r\n    if (localStorage.getItem('loggedin') === 'true') {\r\n      this.props.history.push(\"/Home\")\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.id]: event.target.value });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    axios.post(`${API_HOST_URL}/validateAccount`, {\r\n      \"email\": this.state.email,\r\n      \"password\": this.state.password\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        if (response.data.msg === 'success') {\r\n          localStorage.setItem('loggedin', 'true');\r\n          localStorage.setItem('email', this.state.email);\r\n          localStorage.setItem('id', response.data.id);\r\n\r\n          this.props.history.push(\"/Profile?user=\" + localStorage.getItem('id'));\r\n\r\n        } else {\r\n          this.setState({ error: response.data.msg })\r\n        }\r\n\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n\r\n      });\r\n    event.preventDefault();\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n    const errorMessage = this.state.error;\r\n    return (\r\n      <div id=\"bar\" className=\"bg\">\r\n\r\n        <form className=\"form\" onSubmit={this.handleSubmit}>\r\n          <h1>Login</h1>\r\n\r\n\r\n\r\n\r\n\r\n          <div className=\"location\">\r\n            <input id=\"email\" type=\"text\" value={this.state.email} onChange={this.handleChange} placeholder=\"Email\" />          </div>\r\n\r\n          <div className=\"login\">\r\n            <div className=\"userpass\">\r\n              <input id=\"password\" type=\"password\" value={this.state.password} onChange={this.handleChange} placeholder=\"Password\" />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <button className=\"btn\" type=\"submit\"> Login</button>\r\n          <NavLink to=\"/SignUp\">Don't have an account?</NavLink>\r\n          <div id=\"Error\" className=\"Message\" style={errorStyle}>{errorMessage}</div>\r\n\r\n        </form>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      </div>\r\n\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default login;\r\n"]},"metadata":{},"sourceType":"module"}